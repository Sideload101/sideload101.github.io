<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sideload101</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background-color: rgb(18,18,18);
      width: 100%;
      min-height: 100%;
      font-family: Helvetica, sans-serif;
    }

    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      box-sizing: border-box;
      padding: 40px 0;
    }

    #svg {
      width: 100%;
      display: flex;
      justify-content: center;
    }

    #svg svg {
      width: 100%;
      height: auto;
      display: block;
    }

    /* Mobile tabs */
    @media (max-width: 800px) {
      .mobile-tabs {
        position: sticky;
        top: 0;
        display: flex;
        gap: 5px;
        background-color: rgb(18,18,18);
        padding: 5px;
        z-index: 10;
        overflow-x: auto;
      }

      .tab-btn {
        flex: 1;
        padding: 10px;
        background-color: rgb(30,30,30);
        color: white;
        border: none;
        cursor: pointer;
        border-radius: 4px;
        font-size: 14px;
      }

      .tab-btn.active {
        background-color: rgb(70,70,70);
      }

      /* Columns hidden by default */
      #svg svg .column {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.5s ease-out;
      }

      #svg svg .column.active {
        max-height: 1000px; /* adjust if needed */
      }
    }
  </style>
</head>
<body>

  <!-- Mobile buttons -->
  <div class="mobile-tabs" id="mobile-tabs"></div>

  <!-- SVG container -->
  <div id="svg"></div>

  <script>
    const isMobile = /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

    if(isMobile){
      // Create 4 buttons for mobile columns
      const tabContainer = document.getElementById('mobile-tabs');
      for(let i=1; i<=4; i++){
        const btn = document.createElement('button');
        btn.className = 'tab-btn';
        btn.dataset.target = i; // column number
        btn.textContent = 'Approach '+i;
        tabContainer.appendChild(btn);
      }

      const buttons = document.querySelectorAll('.tab-btn');

      // Load first mobile SVG by default
      fetch('macos-mobile-1.svg')
        .then(r => r.text())
        .then(svg => {
          document.getElementById('svg').innerHTML = svg;
          buttons[0].classList.add('active');
        });

      // Add click behavior for buttons
      buttons.forEach(btn => {
        btn.addEventListener('click', () => {
          // Deactivate all buttons
          buttons.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');

          // Fetch the corresponding SVG
          const num = btn.dataset.target;
          fetch(`macos-mobile-${num}.svg`)
            .then(r => r.text())
            .then(svg => {
              document.getElementById('svg').innerHTML = svg;
            });
        });
      });
    } else {
      // Desktop: load full macOS SVG
      fetch('macos.svg')
        .then(r => r.text())
        .then(svg => {
          document.getElementById('svg').innerHTML = svg;
        });
    }
  </script>
</body>
</html>