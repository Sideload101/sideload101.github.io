<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Sideload101</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root { --bg: rgb(18,18,18); --panel: rgb(30,30,30); --panel2: rgb(25,25,25); }
html, body { margin:0; padding:0; height:100%; background:var(--bg); font-family: Helvetica, sans-serif; color:#fff; }
#svg { width:100%; display:flex; justify-content:center; padding-top:40px; overflow:hidden; }
#svg svg { width:100%; height:auto; display:block; max-width:min(150vh,150%); }

@media (max-width:800px) {
  .sticky-buttons { position: sticky; top:0; display:flex; flex-direction:column; background:var(--bg); z-index:20; }
  .toggle-btn { display:flex; justify-content:space-between; width:100%; padding:12px 16px; font-size:16px; background:var(--panel); border:0; color:#fff; cursor:pointer; }
  .toggle-btn .arrow { transition: transform 0.1s ease; }
  .content { display:none; background:var(--panel2); }
  .content svg { width:100%; height:auto; display:block; }
}
@media (min-width:801px) { .sticky-buttons { display:none; } }
</style>
</head>
<body>

<div class="sticky-buttons">
  <button class="toggle-btn" data-target="trollstore">TrollStore <span class="arrow">&#9654;</span></button>
  <div class="content" id="trollstore"></div>

  <button class="toggle-btn" data-target="altstore">AltStore <span class="arrow">&#9654;</span></button>
  <div class="content" id="altstore"></div>

  <button class="toggle-btn" data-target="sidestore">Sidestore <span class="arrow">&#9654;</span></button>
  <div class="content" id="sidestore"></div>

  <button class="toggle-btn" data-target="sideloadly">Sideloadly <span class="arrow">&#9654;</span></button>
  <div class="content" id="sideloadly"></div>
</div>

<div id="svg"></div>

<script>
(async function(){
  const svgContainer = document.getElementById('svg');
  const isMobile = window.innerWidth <= 800;

  async function fetchSVG(url, container){
    try {
      const r = await fetch(url);
      if(!r.ok) throw Error('Not found');
      container.innerHTML = await r.text();
    } catch(e){
      container.innerHTML = '<p style="color:#bbb;margin:0">Content unavailable: '+url+'</p>';
      console.warn('Failed to fetch', url, e);
    }
  }

  // Desktop: show OS-specific SVG
  if(!isMobile){
    const ua = navigator.userAgent.toLowerCase();
    let file = 'windows.svg';
    if(ua.includes('macintosh')||ua.includes('mac os')||ua.includes('mac os x')) file = 'macos.svg';
    await fetchSVG(file, svgContainer);
  }

  // Mobile buttons: instant toggle
  const toggles = document.querySelectorAll('.toggle-btn');
  toggles.forEach((btn, idx)=>{
    btn.addEventListener('click', async ()=>{
      const targetId = btn.dataset.target;
      const content = document.getElementById(targetId);
      const isVisible = content.style.display === 'block';

      // Hide all other contents
      document.querySelectorAll('.content').forEach(c=>c.style.display='none');
      toggles.forEach(t=>t.querySelector('.arrow').innerHTML='&#9654;');

      if(!isVisible){
        await fetchSVG(`windows-mobile-${idx+1}.svg`, content);
        content.style.display = 'block';
        btn.querySelector('.arrow').innerHTML = '&#9660;';
      } else {
        content.style.display = 'none';
        btn.querySelector('.arrow').innerHTML = '&#9654;';
      }
    });
  });
})();
</script>
</body>
</html>